//
//  PrayerViewController.m
//  BahaiWritings
//
//  Created by Arash Payan on 8/26/08.
//  Copyright 2008 Arash Payan. All rights reserved.
//

#import "PrayerViewController.h"
#import "PrayerView.h"

@interface PrayerViewController ()

@property (nonatomic, strong) PrayerView *prayerView;
@property (nonatomic, strong) NSString *backButtonTitle;
@property (nonatomic, assign) BOOL composingMail;
@property (nonatomic, strong) Prayer *prayer;

@end

@implementation PrayerViewController

- (id)initWithPrayer:(Prayer*)prayer backButtonTitle:(NSString*)aBackButtonTitle {
	self = [super init];
	if (self)
	{
        self.prayer = prayer;
		self.backButtonTitle = aBackButtonTitle;
		self.composingMail = NO;
		
		self.hidesBottomBarWhenPushed = YES;
		
		// set up view rotation
		self.view.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
		self.view.autoresizesSubviews = YES;
		
		// notify the prayer database that this prayer is being accessed
		[[PrayerDatabase sharedInstance] accessedPrayer:self.prayer.prayerId];
	}
	
	return self;
}

- (BOOL)bookmarkingEnabled {
	return ![[PrayerDatabase sharedInstance] prayerIsBookmarked:self.prayer.prayerId];
}

- (void)promptToBookmark {
	UIActionSheet *actionSheet = [[UIActionSheet alloc] initWithTitle:nil
                                                             delegate:self
                                                    cancelButtonTitle:NSLocalizedString(@"CANCEL", NULL)
                                               destructiveButtonTitle:NSLocalizedString(@"ADD_BOOKMARK", NULL)
                                                    otherButtonTitles:nil];
	
	actionSheet.actionSheetStyle = UIActionSheetStyleBlackTranslucent;
	[actionSheet showInView:self.tabBarController.view];
}

- (void)mailAction {
	if ([MFMailComposeViewController canSendMail]) {
		self.composingMail = YES;
		MFMailComposeViewController *mailController = [[MFMailComposeViewController alloc] init];
		mailController.mailComposeDelegate = self;
		[mailController setSubject:self.prayer.category];
		[mailController setMessageBody:[self finalPrayerHTML] isHTML:YES];
        [self presentViewController:mailController animated:YES completion:nil];
	} else {
		// notify the user they need to setup their email
		UIAlertView *mailErrorMsg = [[UIAlertView alloc] initWithTitle:nil
                                                               message:NSLocalizedString(@"MAIL_ERR_MSG", NULL)
                                                              delegate:nil
                                                     cancelButtonTitle:@"OK"
                                                     otherButtonTitles:nil];
		[mailErrorMsg show];
	}
}

- (void)mailComposeController:(MFMailComposeViewController*)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError*)error {
    [self dismissViewControllerAnimated:YES completion:nil];
	self.composingMail = NO;
}

// gets called back from the action sheet to bookmark the fee
- (void)actionSheet:(UIActionSheet *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex {
	if (buttonIndex == 0)
	{
		[[PrayerDatabase sharedInstance] addBookmark:self.prayer.prayerId];
		[(PrayerView*)self.view setBookmarkingEnabled:NO];
	}
}

- (void)increaseTextSizeAction {
	NSUserDefaults *userDefaults = [NSUserDefaults standardUserDefaults];
	float currMultiplier = [userDefaults floatForKey:kPrefsFontSize];
	
	if (currMultiplier < 1.4) {
		currMultiplier += 0.05;
		[userDefaults setFloat:currMultiplier forKey:kPrefsFontSize];
		[userDefaults synchronize];
		
		[self.prayerView.webView loadHTMLString:[self finalPrayerHTML] baseURL:[NSURL URLWithString:@"file:///"]];
		
		[self.prayerView refreshTextSizeButtons];
	}
}

- (BOOL)increaseTextSizeActionEnabled {
	float currMultiplier = [[NSUserDefaults standardUserDefaults] floatForKey:kPrefsFontSize];
	if (currMultiplier < 1.4)
		return YES;
	
	return NO;
}

- (void)decreaseTextSizeAction {
	NSUserDefaults *userDefaults = [NSUserDefaults standardUserDefaults];
	float currMultiplier = [userDefaults floatForKey:kPrefsFontSize];
	
	if (currMultiplier > 0.9) {
		currMultiplier -= 0.05;
		[userDefaults setFloat:currMultiplier forKey:kPrefsFontSize];
		[userDefaults synchronize];
		
		[self.prayerView.webView loadHTMLString:[self finalPrayerHTML] baseURL:[NSURL URLWithString:@"file:///"]];
		
		[self.prayerView refreshTextSizeButtons];
	}
}

- (BOOL)decreaseTextSizeActionEnabled {
	float currMultiplier = [[NSUserDefaults standardUserDefaults] floatForKey:kPrefsFontSize];
	if (currMultiplier > 0.9)
		return YES;
	
	return NO;
}

/*
 Implement loadView if you want to create a view hierarchy programmatically
*/
- (void)loadView {
	[super loadView];

	self.prayerView = [[PrayerView alloc] initWithFrame:CGRectMake(0, 0, 320, 460) backTitle:self.backButtonTitle controller:self];
	self.view = self.prayerView;

	[self.prayerView.webView loadHTMLString:[self finalPrayerHTML] baseURL:[NSURL URLWithString:@"file:///"]];
}

- (void)viewDidUnload {
    self.prayerView = nil;
}

- (NSString*)finalPrayerHTML {
	NSMutableString *finalHTML = [[NSMutableString alloc] init];
	[finalHTML appendString:[PrayerViewController HTMLPrefix:[self.prayer language]]];
	[finalHTML appendString:self.prayer.text];
	[finalHTML appendString:[NSString stringWithFormat:@"<h4 id=\"author\">%@</h4>", [self.prayer author], nil]];
	if ([self.prayer citation] != nil)
		[finalHTML appendString:[NSString stringWithFormat:@"<p class=\"comment\"><br/><br/>%@</p>", [self.prayer citation], nil]];
	[finalHTML appendString:[PrayerViewController HTMLSuffix]];
	
	return finalHTML;
}

+ (NSString*)HTMLPrefix:(NSString*)language {
	float multiplier;
	// get the value for the font multiplier
	multiplier = [[NSUserDefaults standardUserDefaults] floatForKey:kPrefsFontSize];
	if (multiplier == 0)
		multiplier = 1.0;	// the default
	
	float pFontWidth = 1 * multiplier;
	float pFontHeight = 1.375 * multiplier;
	float pComment = 0.8 * multiplier;
	float authorWidth = 1.03 * multiplier;
	float authorHeight = 1.825 * multiplier;
	float versalWidth = 3.5 * multiplier;
	float versalHeight = 0.75 * multiplier;
	NSMutableString *htmlPrefix = [[NSMutableString alloc] init];
	[htmlPrefix appendString:@"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"];
	[htmlPrefix appendString:@"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n"];
    if ([language isEqualToString:@"fa"])
        [htmlPrefix appendString:@"<html dir=\"rtl\" xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n"];
    else
        [htmlPrefix appendString:@"<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n"];
	[htmlPrefix appendString:@"<head>"];
	[htmlPrefix appendString:@"<style type=\"text/css\">"];
	[htmlPrefix appendString:@"#prayer p {margin: 0 0px .75em 5px; color: #330000; font: normal "];
	[htmlPrefix appendFormat:@"%fem/%fem", pFontWidth, pFontHeight];
	[htmlPrefix appendString:@" Georgia, \"Times New Roman\", Times, serif; clear: both; text-indent: 1em;}"];
	[htmlPrefix appendString:@"#prayer p.opening {text-indent: 0;}"];
	[htmlPrefix appendString:@"body { background: #e2ded5 url(data:image/jpeg;base64,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PC9pbnRlZ2VyPgoJCQk8L2RpY3Q+CgkJPC9hcnJheT4KCTwvZGljdD4KCTxrZXk+Y29tLmFwcGxlLnByaW50LlBhZ2VGb3JtYXQuUE1PcmllbnRhdGlvbjwva2V5PgoJPGRpY3Q+CgkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNyZWF0b3I8L2tleT4KCQk8c3RyaW5nPmNvbS5hcHBsZS5qb2J0aWNrZXQ8L3N0cmluZz4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuaXRlbUFycmF5PC9rZXk+CgkJPGFycmF5PgoJCQk8ZGljdD4KCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LlBhZ2VGb3JtYXQuUE1PcmllbnRhdGlvbjwva2V5PgoJCQkJPGludGVnZXI+MTwvaW50ZWdlcj4KCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCTxpbnRlZ2VyPjA8L2ludGVnZXI+CgkJCTwvZGljdD4KCQk8L2FycmF5PgoJPC9kaWN0PgoJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTVNjYWxpbmc8L2tleT4KCTxkaWN0PgoJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJPHN0cmluZz5jb20uYXBwbGUuam9idGlja2V0PC9zdHJpbmc+CgkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lml0ZW1BcnJheTwva2V5PgoJCTxhcnJheT4KCQkJPGRpY3Q+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0LlBNU2NhbGluZzwva2V5PgoJCQkJPHJlYWw+MTwvcmVhbD4KCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCTxpbnRlZ2VyPjA8L2ludGVnZXI+CgkJCTwvZGljdD4KCQk8L2FycmF5PgoJPC9kaWN0PgoJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTVZlcnRpY2FsUmVzPC9rZXk+Cgk8ZGljdD4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuY3JlYXRvcjwva2V5PgoJCTxzdHJpbmc+Y29tLmFwcGxlLmpvYnRpY2tldDwvc3RyaW5nPgoJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5pdGVtQXJyYXk8L2tleT4KCQk8YXJyYXk+CgkJCTxkaWN0PgoJCQkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTVZlcnRpY2FsUmVzPC9rZXk+CgkJCQk8cmVhbD43MjwvcmVhbD4KCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCTxpbnRlZ2VyPjA8L2ludGVnZXI+CgkJCTwvZGljdD4KCQk8L2FycmF5PgoJPC9kaWN0PgoJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTVZlcnRpY2FsU2NhbGluZzwva2V5PgoJPGRpY3Q+CgkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNyZWF0b3I8L2tleT4KCQk8c3RyaW5nPmNvbS5hcHBsZS5qb2J0aWNrZXQ8L3N0cmluZz4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuaXRlbUFycmF5PC9rZXk+CgkJPGFycmF5PgoJCQk8ZGljdD4KCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LlBhZ2VGb3JtYXQuUE1WZXJ0aWNhbFNjYWxpbmc8L2tleT4KCQkJCTxyZWFsPjE8L3JlYWw+CgkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuc3RhdGVGbGFnPC9rZXk+CgkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQk8L2RpY3Q+CgkJPC9hcnJheT4KCTwvZGljdD4KCTxrZXk+Y29tLmFwcGxlLnByaW50LnN1YlRpY2tldC5wYXBlcl9pbmZvX3RpY2tldDwva2V5PgoJPGRpY3Q+CgkJPGtleT5QTVBQRFBhcGVyQ29kZU5hbWU8L2tleT4KCQk8ZGljdD4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNyZWF0b3I8L2tleT4KCQkJPHN0cmluZz5jb20uYXBwbGUuam9idGlja2V0PC9zdHJpbmc+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5pdGVtQXJyYXk8L2tleT4KCQkJPGFycmF5PgoJCQkJPGRpY3Q+CgkJCQkJPGtleT5QTVBQRFBhcGVyQ29kZU5hbWU8L2tleT4KCQkJCQk8c3RyaW5nPkxldHRlcjwvc3RyaW5nPgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQkJPC9kaWN0PgoJCQk8L2FycmF5PgoJCTwvZGljdD4KCQk8a2V5PlBNVGlvZ2FQYXBlck5hbWU8L2tleT4KCQk8ZGljdD4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNyZWF0b3I8L2tleT4KCQkJPHN0cmluZz5jb20uYXBwbGUuam9idGlja2V0PC9zdHJpbmc+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5pdGVtQXJyYXk8L2tleT4KCQkJPGFycmF5PgoJCQkJPGRpY3Q+CgkJCQkJPGtleT5QTVRpb2dhUGFwZXJOYW1lPC9rZXk+CgkJCQkJPHN0cmluZz5uYS1sZXR0ZXI8L3N0cmluZz4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuc3RhdGVGbGFnPC9rZXk+CgkJCQkJPGludGVnZXI+MDwvaW50ZWdlcj4KCQkJCTwvZGljdD4KCQkJPC9hcnJheT4KCQk8L2RpY3Q+CgkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTUFkanVzdGVkUGFnZVJlY3Q8L2tleT4KCQk8ZGljdD4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNyZWF0b3I8L2tleT4KCQkJPHN0cmluZz5jb20uYXBwbGUuam9idGlja2V0PC9zdHJpbmc+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5pdGVtQXJyYXk8L2tleT4KCQkJPGFycmF5PgoJCQkJPGRpY3Q+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTUFkanVzdGVkUGFnZVJlY3Q8L2tleT4KCQkJCQk8YXJyYXk+CgkJCQkJCTxyZWFsPjAuMDwvcmVhbD4KCQkJCQkJPHJlYWw+MC4wPC9yZWFsPgoJCQkJCQk8cmVhbD43MzQ8L3JlYWw+CgkJCQkJCTxyZWFsPjU3NjwvcmVhbD4KCQkJCQk8L2FycmF5PgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQkJPC9kaWN0PgoJCQk8L2FycmF5PgoJCTwvZGljdD4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0LlBNQWRqdXN0ZWRQYXBlclJlY3Q8L2tleT4KCQk8ZGljdD4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LmNyZWF0b3I8L2tleT4KCQkJPHN0cmluZz5jb20uYXBwbGUuam9idGlja2V0PC9zdHJpbmc+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5pdGVtQXJyYXk8L2tleT4KCQkJPGFycmF5PgoJCQkJPGRpY3Q+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFnZUZvcm1hdC5QTUFkanVzdGVkUGFwZXJSZWN0PC9rZXk+CgkJCQkJPGFycmF5PgoJCQkJCQk8cmVhbD4tMTg8L3JlYWw+CgkJCQkJCTxyZWFsPi0xODwvcmVhbD4KCQkJCQkJPHJlYWw+Nzc0PC9yZWFsPgoJCQkJCQk8cmVhbD41OTQ8L3JlYWw+CgkJCQkJPC9hcnJheT4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuc3RhdGVGbGFnPC9rZXk+CgkJCQkJPGludGVnZXI+MDwvaW50ZWdlcj4KCQkJCTwvZGljdD4KCQkJPC9hcnJheT4KCQk8L2RpY3Q+CgkJPGtleT5jb20uYXBwbGUucHJpbnQuUGFwZXJJbmZvLlBNUGFwZXJOYW1lPC9rZXk+CgkJPGRpY3Q+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJCTxzdHJpbmc+Y29tLmFwcGxlLmpvYnRpY2tldDwvc3RyaW5nPgoJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuaXRlbUFycmF5PC9rZXk+CgkJCTxhcnJheT4KCQkJCTxkaWN0PgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LlBhcGVySW5mby5QTVBhcGVyTmFtZTwva2V5PgoJCQkJCTxzdHJpbmc+bmEtbGV0dGVyPC9zdHJpbmc+CgkJCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LnN0YXRlRmxhZzwva2V5PgoJCQkJCTxpbnRlZ2VyPjA8L2ludGVnZXI+CgkJCQk8L2RpY3Q+CgkJCTwvYXJyYXk+CgkJPC9kaWN0PgoJCTxrZXk+Y29tLmFwcGxlLnByaW50LlBhcGVySW5mby5QTVVuYWRqdXN0ZWRQYWdlUmVjdDwva2V5PgoJCTxkaWN0PgoJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuY3JlYXRvcjwva2V5PgoJCQk8c3RyaW5nPmNvbS5hcHBsZS5qb2J0aWNrZXQ8L3N0cmluZz4KCQkJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0Lml0ZW1BcnJheTwva2V5PgoJCQk8YXJyYXk+CgkJCQk8ZGljdD4KCQkJCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYXBlckluZm8uUE1VbmFkanVzdGVkUGFnZVJlY3Q8L2tleT4KCQkJCQk8YXJyYXk+CgkJCQkJCTxyZWFsPjAuMDwvcmVhbD4KCQkJCQkJPHJlYWw+MC4wPC9yZWFsPgoJCQkJCQk8cmVhbD43MzQ8L3JlYWw+CgkJCQkJCTxyZWFsPjU3NjwvcmVhbD4KCQkJCQk8L2FycmF5PgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQkJPC9kaWN0PgoJCQk8L2FycmF5PgoJCTwvZGljdD4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYXBlckluZm8uUE1VbmFkanVzdGVkUGFwZXJSZWN0PC9rZXk+CgkJPGRpY3Q+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJCTxzdHJpbmc+Y29tLmFwcGxlLmpvYnRpY2tldDwvc3RyaW5nPgoJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuaXRlbUFycmF5PC9rZXk+CgkJCTxhcnJheT4KCQkJCTxkaWN0PgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LlBhcGVySW5mby5QTVVuYWRqdXN0ZWRQYXBlclJlY3Q8L2tleT4KCQkJCQk8YXJyYXk+CgkJCQkJCTxyZWFsPi0xODwvcmVhbD4KCQkJCQkJPHJlYWw+LTE4PC9yZWFsPgoJCQkJCQk8cmVhbD43NzQ8L3JlYWw+CgkJCQkJCTxyZWFsPjU5NDwvcmVhbD4KCQkJCQk8L2FycmF5PgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQkJPC9kaWN0PgoJCQk8L2FycmF5PgoJCTwvZGljdD4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC5QYXBlckluZm8ucHBkLlBNUGFwZXJOYW1lPC9rZXk+CgkJPGRpY3Q+CgkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5jcmVhdG9yPC9rZXk+CgkJCTxzdHJpbmc+Y29tLmFwcGxlLmpvYnRpY2tldDwvc3RyaW5nPgoJCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuaXRlbUFycmF5PC9rZXk+CgkJCTxhcnJheT4KCQkJCTxkaWN0PgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LlBhcGVySW5mby5wcGQuUE1QYXBlck5hbWU8L2tleT4KCQkJCQk8c3RyaW5nPlVTIExldHRlcjwvc3RyaW5nPgoJCQkJCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC5zdGF0ZUZsYWc8L2tleT4KCQkJCQk8aW50ZWdlcj4wPC9pbnRlZ2VyPgoJCQkJPC9kaWN0PgoJCQk8L2FycmF5PgoJCTwvZGljdD4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQuQVBJVmVyc2lvbjwva2V5PgoJCTxzdHJpbmc+MDAuMjA8L3N0cmluZz4KCQk8a2V5PmNvbS5hcHBsZS5wcmludC50aWNrZXQudHlwZTwva2V5PgoJCTxzdHJpbmc+Y29tLmFwcGxlLnByaW50LlBhcGVySW5mb1RpY2tldDwvc3RyaW5nPgoJPC9kaWN0PgoJPGtleT5jb20uYXBwbGUucHJpbnQudGlja2V0LkFQSVZlcnNpb248L2tleT4KCTxzdHJpbmc+MDAuMjA8L3N0cmluZz4KCTxrZXk+Y29tLmFwcGxlLnByaW50LnRpY2tldC50eXBlPC9rZXk+Cgk8c3RyaW5nPmNvbS5hcHBsZS5wcmludC5QYWdlRm9ybWF0VGlja2V0PC9zdHJpbmc+CjwvZGljdD4KPC9wbGlzdD4KOEJJTQPtAAAAAAAQAEgAAAABAAEASAAAAAEAAThCSU0EJgAAAAAADgAAAAAAAAAAAAA/gAAAOEJJTQQNAAAAAAAEAAAAeDhCSU0EGQAAAAAABAAAAB44QklNA/MAAAAAAAkAAAAAAAAAAAEAOEJJTQQKAAAAAAABAAA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgABOEJJTQQCAAAAAAAEAAAAADhCSU0EMAAAAAAAAgEBOEJJTQQtAAAAAAAGAAEAAAAEOEJJTQQIAAAAAAAQAAAAAQAAAkAAAAJAAAAAADhCSU0EHgAAAAAABAAAAAA4QklNBBoAAAAAA0kAAAAGAAAAAAAAAAAAAABIAAAB4AAAAAoAVQBuAHQAaQB0AGwAZQBkAC0AMQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAB4AAAAEgAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAG51bGwAAAACAAAABmJvdW5kc09iamMAAAABAAAAAAAAUmN0MQAAAAQAAAAAVG9wIGxvbmcAAAAAAAAAAExlZnRsb25nAAAAAAAAAABCdG9tbG9uZwAAAEgAAAAAUmdodGxvbmcAAAHgAAAABnNsaWNlc1ZsTHMAAAABT2JqYwAAAAEAAAAAAAVzbGljZQAAABIAAAAHc2xpY2VJRGxvbmcAAAAAAAAAB2dyb3VwSURsb25nAAAAAAAAAAZvcmlnaW5lbnVtAAAADEVTbGljZU9yaWdpbgAAAA1hdXRvR2VuZXJhdGVkAAAAAFR5cGVlbnVtAAAACkVTbGljZVR5cGUAAAAASW1nIAAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAABIAAAAAFJnaHRsb25nAAAB4AAAAAN1cmxURVhUAAAAAQAAAAAAAG51bGxURVhUAAAAAQAAAAAAAE1zZ2VURVhUAAAAAQAAAAAABmFsdFRhZ1RFWFQAAAABAAAAAAAOY2VsbFRleHRJc0hUTUxib29sAQAAAAhjZWxsVGV4dFRFWFQAAAABAAAAAAAJaG9yekFsaWduZW51bQAAAA9FU2xpY2VIb3J6QWxpZ24AAAAHZGVmYXVsdAAAAAl2ZXJ0QWxpZ25lbnVtAAAAD0VTbGljZVZlcnRBbGlnbgAAAAdkZWZhdWx0AAAAC2JnQ29sb3JUeXBlZW51bQAAABFFU2xpY2VCR0NvbG9yVHlwZQAAAABOb25lAAAACXRvcE91dHNldGxvbmcAAAAAAAAACmxlZnRPdXRzZXRsb25nAAAAAAAAAAxib3R0b21PdXRzZXRsb25nAAAAAAAAAAtyaWdodE91dHNldGxvbmcAAAAAADhCSU0EKAAAAAAADAAAAAE/8AAAAAAAADhCSU0EFAAAAAAABAAAAAQ4QklNBAwAAAAAA5MAAAABAAAAoAAAABgAAAHgAAAtAAAAA3cAGAAB/9j/4AAQSkZJRgABAgAASABIAAD/7QAMQWRvYmVfQ00AAf/uAA5BZG9iZQBkgAAAAAH/2wCEAAwICAgJCAwJCQwRCwoLERUPDAwPFRgTExUTExgRDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBDQsLDQ4NEA4OEBQODg4UFA4ODg4UEQwMDAwMEREMDAwMDAwRDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIABgAoAMBIgACEQEDEQH/3QAEAAr/xAE/AAABBQEBAQEBAQAAAAAAAAADAAECBAUGBwgJCgsBAAEFAQEBAQEBAAAAAAAAAAEAAgMEBQYHCAkKCxAAAQQBAwIEAgUHBggFAwwzAQACEQMEIRIxBUFRYRMicYEyBhSRobFCIyQVUsFiMzRygtFDByWSU/Dh8WNzNRaisoMmRJNUZEXCo3Q2F9JV4mXys4TD03Xj80YnlKSFtJXE1OT0pbXF1eX1VmZ2hpamtsbW5vY3R1dnd4eXp7fH1+f3EQACAgECBAQDBAUGBwcGBTUBAAIRAyExEgRBUWFxIhMFMoGRFKGxQiPBUtHwMyRi4XKCkkNTFWNzNPElBhaisoMHJjXC0kSTVKMXZEVVNnRl4vKzhMPTdePzRpSkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2JzdHV2d3h5ent8f/2gAMAwEAAhEDEQA/AO13EgiYjyTgyfHX4ptsGeY78JwP9eyYuZag6zJTTJkd0jKREnUfwKSlA/en50hMPCfikN3A/IkpUACIhOTz/rKiQeD80/uj+ASUqfEyPP8AJ2SHMc+fgloRJ58YTx569pSUqeAUhPc8fBNwde/Eg8J/OflCSmJcRBTTrz/BOQHd5+XimiNP4pKZAHbpMBInsf4dko/u8/ilqQUlKmP9f708/NRAA148p/In15/HlJSo1mJKQIgn8EvdySmAMykp/9DuNImP9fJLSfBfOSSYufo0/cO6XlPH3r5ySSU/Ru0EQ7X4po07/ivnNJJT9Gz4jVNExyBOpHOi+c0klP0cI4kn+9NJPPfj/UL5ySSU/RoI4MJ4H0tDC+cUklP0boNOZ/17pacRr5cfJfOSSSn6O/gm8+6+ckklP0bHnp3TFoBkaHuQvnNJJT9G6jxP4JSD2Xzkkkp//9kAOEJJTQQhAAAAAABVAAAAAQEAAAAPAEEAZABvAGIAZQAgAFAAaABvAHQAbwBzAGgAbwBwAAAAEwBBAGQAbwBiAGUAIABQAGgAbwB0AG8AcwBoAG8AcAAgAEMAUwAzAAAAAQA4QklNBAYAAAAAAAcABgEBAAEBAP/hD89odHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDQuMS1jMDM2IDQ2LjI3NjcyMCwgTW9uIEZlYiAxOSAyMDA3IDIyOjEzOjQzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eGFwTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiB4YXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzMgTWFjaW50b3NoIiB4YXA6Q3JlYXRlRGF0ZT0iMjAwOS0wOC0xM1QwMjoxOTowOC0wNzowMCIgeGFwOk1vZGlmeURhdGU9IjIwMDktMDgtMTNUMDI6MTk6MDgtMDc6MDAiIHhhcDpNZXRhZGF0YURhdGU9IjIwMDktMDgtMTNUMDI6MTk6MDgtMDc6MDAiIHhhcE1NOkRvY3VtZW50SUQ9InV1aWQ6NTQ3QTkxRTA0MTg5REUxMUFFRTBDNjM1RjY2RjA5OTQiIHhhcE1NOkluc3RhbmNlSUQ9InV1aWQ6ODQxRTVFMDM0Mjg5REUxMUFFRTBDNjM1RjY2RjA5OTQiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgcGhvdG9zaG9wOkhpc3Rvcnk9IiIgdGlmZjpPcmllbnRhdGlvbj0iMSIgdGlmZjpYUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOllSZXNvbHV0aW9uPSI3MjAwMDAvMTAwMDAiIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiIHRpZmY6TmF0aXZlRGlnZXN0PSIyNTYsMjU3LDI1OCwyNTksMjYyLDI3NCwyNzcsMjg0LDUzMCw1MzEsMjgyLDI4MywyOTYsMzAxLDMxOCwzMTksNTI5LDUzMiwzMDYsMjcwLDI3MSwyNzIsMzA1LDMxNSwzMzQzMjsyMUFFQjYzQkVGQjI5REYyNjkzQzA1OEQ3RkZBMEUxNCIgZXhpZjpQaXhlbFhEaW1lbnNpb249IjQ4MCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjcyIiBleGlmOkNvbG9yU3BhY2U9IjEiIGV4aWY6TmF0aXZlRGlnZXN0PSIzNjg2NCw0MDk2MCw0MDk2MSwzNzEyMSwzNzEyMiw0MDk2Miw0MDk2MywzNzUxMCw0MDk2NCwzNjg2NywzNjg2OCwzMzQzNCwzMzQzNywzNDg1MCwzNDg1MiwzNDg1NSwzNDg1NiwzNzM3NywzNzM3OCwzNzM3OSwzNzM4MCwzNzM4MSwzNzM4MiwzNzM4MywzNzM4NCwzNzM4NSwzNzM4NiwzNzM5Niw0MTQ4Myw0MTQ4NCw0MTQ4Niw0MTQ4Nyw0MTQ4OCw0MTQ5Miw0MTQ5Myw0MTQ5NSw0MTcyOCw0MTcyOSw0MTczMCw0MTk4NSw0MTk4Niw0MTk4Nyw0MTk4OCw0MTk4OSw0MTk5MCw0MTk5MSw0MTk5Miw0MTk5Myw0MTk5NCw0MTk5NSw0MTk5Niw0MjAxNiwwLDIsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMjAsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMzA7RTQxMzU4MkM5QTc5Qzc4OUUzQjRDRDdDMkIyQTg0RTMiPiA8eGFwTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0idXVpZDpFQ0ZERjk3OTQxODlERTExQUVFMEM2MzVGNjZGMDk5NCIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDpFQ0ZERjk3OTQxODlERTExQUVFMEM2MzVGNjZGMDk5NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+/+IMWElDQ19QUk9GSUxFAAEBAAAMSExpbm8CEAAAbW50clJHQiBYWVogB84AAgAJAAYAMQAAYWNzcE1TRlQAAAAASUVDIHNSR0IAAAAAAAAAAAAAAAEAAPbWAAEAAAAA0y1IUCAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARY3BydAAAAVAAAAAzZGVzYwAAAYQAAABsd3RwdAAAAfAAAAAUYmtwdAAAAgQAAAAUclhZWgAAAhgAAAAUZ1hZWgAAAiwAAAAUYlhZWgAAAkAAAAAUZG1uZAAAAlQAAABwZG1kZAAAAsQAAACIdnVlZAAAA0wAAACGdmlldwAAA9QAAAAkbHVtaQAAA/gAAAAUbWVhcwAABAwAAAAkdGVjaAAABDAAAAAMclRSQwAABDwAAAgMZ1RSQwAABDwAAAgMYlRSQwAABDwAAAgMdGV4dAAAAABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1QYWNrYXJkIENvbXBhbnkAAGRlc2MAAAAAAAAAEnNSR0IgSUVDNjE5NjYtMi4xAAAAAAAAAAAAAAASc1JHQiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZ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) repeat; }"];
	[htmlPrefix appendString:@"#prayer p.commentcaps {font: normal "];
	[htmlPrefix appendFormat:@"%fem", pComment];
	[htmlPrefix appendString:@" Arial, Helvetica, sans-serif; color: #444433; text-transform: uppercase; margin: 0 0px 20px 5px; text-indent: 0; }"];
	[htmlPrefix appendString:@"#prayer p.comment {font: normal "];
	[htmlPrefix appendFormat:@"%fem", pComment];
	[htmlPrefix appendString:@" Arial, Helvetica, sans-serif; color: #444433; margin: 0 0px .825em 1.5em; text-indent: 0; }"];
	[htmlPrefix appendString:@"#prayer p.noindent {text-indent: 0; margin-bottom: .25em;}"];
	[htmlPrefix appendString:@"#prayer p.commentnoindent {font: normal "];
	[htmlPrefix appendFormat:@"%fem", pComment];
	[htmlPrefix appendString:@" Arial, Helvetica, sans-serif; color: #444433; margin: 0 0px 15px 5px; text-indent: 0;}"];
	[htmlPrefix appendString:@"#prayer h4#author { float: right; margin: 0 25px 25px 0; font: italic "];
	[htmlPrefix appendFormat:@"%fem/%fem", authorWidth, authorHeight];
	[htmlPrefix appendString:@" Georgia, \"Times New Roman\", Times, serif; color: #992222; text-indent: 0.325em; font-weight: bold }"];
	[htmlPrefix appendString:@"span.versal {float: left; display: inline; position: relative; color: #992222; font: normal "];
	[htmlPrefix appendFormat:@"%fem/%fem", versalWidth, versalHeight];
	[htmlPrefix appendString:@" \"Times New Roman\", Times, serif; margin: 0 .15em 0 .15em; padding: 0;}"];
	[htmlPrefix appendString:@"</style></head><body><div id=\"prayer\">"];
	
	return htmlPrefix;
}

+ (NSString*)HTMLSuffix {
	static NSString *htmlSuffix;
	
	if (htmlSuffix == nil) {
		htmlSuffix = @"</div></body></html>";
	}
	
	return htmlSuffix;
}

- (void)backAction {
	[self.navigationController popViewControllerAnimated:YES];
}

- (void)viewWillAppear:(BOOL)animated {
	//[self.navigationController setNavigationBarHidden:YES animated:animated];
	[PrayerDatabase sharedInstance].prayerBeingViewed = YES;
	[PrayerDatabase sharedInstance].prayerView = (PrayerView*)self.view;
}

- (void)viewWillDisappear:(BOOL)animated {
	if (self.composingMail)
		return;
	
	//[self.navigationController setNavigationBarHidden:NO animated:animated];
}

- (void)viewDidDisappear:(BOOL)animated {
	[PrayerDatabase sharedInstance].prayerBeingViewed = NO;
	[PrayerDatabase sharedInstance].prayerView = nil;
}


- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation {
	return toInterfaceOrientation != UIInterfaceOrientationPortraitUpsideDown;
}

@end
